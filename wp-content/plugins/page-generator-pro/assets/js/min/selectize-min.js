function page_generator_pro_reinit_selectize(){var s;(s=jQuery)("select.wpzinc-selectize").each(function(){var l=this,e=s(l).data("action"),a=s(l).data("api-call"),t=s(l).data("country-code");s.ajax({url:ajaxurl,type:"POST",async:!0,data:{action:e,api_call:a,country_code:s('select[name="'+t+'"]').val()},error:function(e,a,t){return page_generator_pro_show_error_message_and_exit("err")},success:function(e){var a=s(l).data("output-fields").split(",");if(value_field=s(l).data("value-field"),!e.success)return page_generator_pro_show_error_message_and_exit(e.data.message);var t=[];for(i=0;i<e.data.data.length;i++){for(var r=[],n=0;n<a.length;n++)r.push(e.data.data[i][a[n]]);t.push({text:r.join(", "),value:e.data.data[i][value_field]})}s(l).selectize({options:t,create:!1,delimiter:",",load:function(e,a){a(t)}})}})})}function page_generator_pro_destroy_selectize(){var e;(e=jQuery)("select.wpzinc-selectize").selectize().each(function(){this.selectize.destroy()})}jQuery(document).ready(function(o){o("input.wpzinc-selectize-freeform").selectize({delimiter:",",persist:!1,create:function(e){return{value:e,text:e}}}),o("select.wpzinc-selectize-drag-drop").selectize({plugins:["drag_drop"],delimiter:",",persist:!1,create:function(e){return{value:e,text:e}}}).on("change",function(){if(void 0!==o(this).data("controls")){var e=o(this).data("controls");if(0!==e.length){var a=o(this).val();if(o('select[name="'+e+'"] option').attr("disabled","disabled"),a){for(var t=0;t<a.length;t++)o('select[name="'+e+'"] option[value="'+a[t]+'"]').removeAttr("disabled");o('select[name="method"]').trigger("change.page-generator-pro")}}}}).trigger("change"),o("select.wpzinc-selectize-search").each(function(){var t=o(this).data("action"),e=o(this).data("name-field"),a=o(this).data("value-field"),i=o(this).data("method"),r=o(this).data("output-fields").split(",");o(this).selectize({delimiter:",",valueField:a,labelField:e,searchField:e,options:[],create:!1,render:{option:function(e,a){for(var t=[],i=0;i<r.length;i++)t.push(e[r[i]]);return"<div>"+t.join(", ")+"</div>"}},load:function(e,a){if(!e.length||e.length<3)return a();o.ajax({url:ajaxurl,type:i,dataType:"json",data:{action:t,query:e},error:function(){a()},success:function(e){a(e.data)}})}})}),o("select.wpzinc-selectize-api").each(function(){var s=this;o(s).selectize({delimiter:",",options:[],create:!1,load:function(e,n){var a=o(s).data("action"),t=o(s).data("api-call"),r=o(s).data("api-search-field");if(api_fields=o(s).data("api-fields").split(","),country_code=o(s).data("country-code"),output_fields=o(s).data("output-fields").split(","),value_field=o(s).data("value-field"),!e.length||e.length<3)return n();var l={action:a,api_call:t,api_search_field:r,query:e,country_code:o('select[name="'+country_code+'"]').val()};for(i=0;i<api_fields.length;i++)l[api_fields[i].replace(/[\[\]']+/g,"")]=o('select[name="'+api_fields[i]+'"]').val();o.ajax({url:ajaxurl,type:"POST",async:!0,data:l,error:function(e,a,t){return page_generator_pro_show_error_message_and_exit("err")},success:function(e){if(!e.success)return page_generator_pro_show_error_message_and_exit(e.data.message);var a=[];for(i=0;i<e.data.data.length;i++){for(var t=[],r=0;r<output_fields.length;r++)t.push(e.data.data[i][output_fields[r]]);a.push({text:t.join(", "),value:e.data.data[i][value_field]})}n(a)}})}})})});